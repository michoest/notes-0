import{u as r,z as a,A as c,p as l,y as u,a as m,b as p,o as f}from"./index-DBHKLKTv.js";const w={class:"min-h-screen flex items-center justify-center"},x={__name:"AddFromUrl",setup(_){const s=u(),d=l(),n=r();return a(),c(async()=>{const t=d.query.text,e=d.query.list;if(console.log("AddFromURL mounted with",{text:t,listId:e}),!t){s.replace("/");return}if(e&&n.lists.find(i=>i.id===e)){console.log("Adding item directly to list",e);const i=n.lists.find(o=>o.id===e);await n.addItem(e,decodeURIComponent(t)),s.replace(`/list/${e}`),setTimeout(()=>{var o;(o=window.showToast)==null||o.call(window,`Added to ${i.name}`)},100)}else console.log("No valid listId, using AI categorization for",t),window.dispatchEvent(new CustomEvent("add-from-url",{detail:{text:decodeURIComponent(t)}})),s.replace("/")}),(t,e)=>(f(),m("div",w,[...e[0]||(e[0]=[p("div",{class:"text-surface-400"},"Processing...",-1)])]))}};export{x as default};
