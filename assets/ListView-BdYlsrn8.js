import{u as V,r as h,c as l,o,a as t,b as C,n as y,d as A,w as B,v as j,e as M,t as f,f as L,g as b,h as H,i as I,j as $,T as D,k as N,l as R,m as T,_ as E,F as z,p as S,q as K}from"./index-BdyMcHeU.js";const q={key:0,class:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},F={class:"flex-1 min-w-0"},O={key:0,class:"flex gap-2"},U={key:1},G={class:"text-xs text-surface-500 mt-1"},J={__name:"NoteItem",props:{item:{type:Object,required:!0}},setup(i){const a=i,n=V(),r=h(!1),c=h(""),u=h(null),w=h(!1);async function p(){var d,e;c.value=a.item.text,r.value=!0,await L(),(d=u.value)==null||d.focus(),(e=u.value)==null||e.select()}async function k(){const d=c.value.trim();d&&d!==a.item.text&&await n.updateItem(a.item.id,{text:d}),r.value=!1}function x(){r.value=!1,c.value=""}async function g(){confirm("Delete this item?")&&await n.deleteItem(a.item.id)}function _(d){const e=new Date(d),m=new Date-e;return m<6e4?"Just now":m<36e5?`${Math.floor(m/6e4)}m ago`:m<864e5?`${Math.floor(m/36e5)}h ago`:m<6048e5?`${Math.floor(m/864e5)}d ago`:e.toLocaleDateString()}return(d,e)=>(o(),l("div",{class:y(["list-item group",i.item.completed&&"list-item-completed"]),onMouseenter:e[2]||(e[2]=s=>w.value=!0),onMouseleave:e[3]||(e[3]=s=>w.value=!1)},[t("button",{onClick:e[0]||(e[0]=s=>A(n).toggleItem(i.item.id)),class:y(["checkbox",i.item.completed&&"checkbox-checked"])},[i.item.completed?(o(),l("svg",q,[...e[4]||(e[4]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"},null,-1)])])):C("",!0)],2),t("div",F,[r.value?(o(),l("div",O,[B(t("input",{ref_key:"editInput",ref:u,"onUpdate:modelValue":e[1]||(e[1]=s=>c.value=s),onKeyup:[M(k,["enter"]),M(x,["escape"])],onBlur:k,type:"text",class:"input flex-1 py-1 text-sm"},null,544),[[j,c.value]])])):(o(),l("div",U,[t("p",{class:y(["text-surface-200 break-words",i.item.completed&&"line-through text-surface-500"])},f(i.item.text),3),t("p",G,f(_(i.item.createdAt)),1)]))]),t("div",{class:y(["flex items-center gap-1 transition-opacity",w.value?"opacity-100":"opacity-0 lg:opacity-0"])},[t("button",{onClick:p,class:"p-2 text-surface-500 hover:text-surface-200 transition-colors",title:"Edit"},[...e[5]||(e[5]=[t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),t("button",{onClick:g,class:"p-2 text-surface-500 hover:text-red-400 transition-colors",title:"Delete"},[...e[6]||(e[6]=[t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])],2),t("div",{class:"flex lg:hidden items-center gap-1"},[t("button",{onClick:p,class:"p-2 text-surface-500 active:text-surface-200"},[...e[7]||(e[7]=[t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),t("button",{onClick:g,class:"p-2 text-surface-500 active:text-red-400"},[...e[8]||(e[8]=[t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])])],34))}},P=(i,a)=>{const n=i.__vccOpts||i;for(const[r,c]of a)n[r]=c;return n},Q={class:"max-w-2xl mx-auto p-4 lg:p-8"},W={class:"hidden lg:block mb-8"},X={class:"font-display font-bold text-3xl text-surface-100 mb-2"},Y={class:"text-surface-400"},Z={key:0},ee={key:1},te={key:2},se={class:"card mb-6"},oe={class:"p-4 flex gap-3"},ae=["disabled"],ne={key:0,class:"border-t border-surface-700 p-6"},le={key:0,class:"card"},ie={key:1,class:"text-center py-16"},re={__name:"ListView",setup(i){const a=T(),n=V(),r=h(""),c=h(null),u=h(!1),w=b(()=>n.lists.find(e=>e.id===a.params.listId)),p=b(()=>n.items.filter(e=>e.listId===a.params.listId).sort((e,s)=>e.completed!==s.completed?e.completed?1:-1:s.createdAt-e.createdAt)),k=b(()=>p.value.filter(e=>!e.completed).length),x=b(()=>p.value.filter(e=>e.completed).length);H(()=>a.params.listId,e=>{e&&n.setCurrentList(e)},{immediate:!0});async function g(){var s;const e=r.value.trim();e&&(await n.addItem(a.params.listId,e),r.value="",await L(),(s=c.value)==null||s.focus())}function _(e){e&&n.addItem(a.params.listId,e),u.value=!1}async function d(){confirm("Remove all completed items?")&&await n.clearCompleted(a.params.listId)}return(e,s)=>{var m;return o(),l("div",Q,[t("header",W,[t("h1",X,f(((m=w.value)==null?void 0:m.name)||"Loading..."),1),t("p",Y,[k.value>0?(o(),l("span",Z,f(k.value)+" item"+f(k.value!==1?"s":""),1)):(o(),l("span",ee,"No items")),x.value>0?(o(),l("span",te," Â· "+f(x.value)+" completed",1)):C("",!0)])]),t("div",se,[t("div",oe,[B(t("input",{ref_key:"inputRef",ref:c,"onUpdate:modelValue":s[0]||(s[0]=v=>r.value=v),onKeyup:M(g,["enter"]),type:"text",placeholder:"Add a new item...",class:"input flex-1"},null,544),[[j,r.value]]),t("button",{onClick:g,disabled:!r.value.trim(),class:"btn-primary px-4"},[...s[3]||(s[3]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),t("span",{class:"hidden sm:inline"},"Add",-1)])],8,ae),t("button",{onClick:s[1]||(s[1]=v=>u.value=!u.value),class:y(["btn hidden lg:flex",u.value?"bg-red-500 text-white hover:bg-red-600":"btn-secondary"])},[...s[4]||(s[4]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})],-1)])],2)]),I(D,{name:"slide"},{default:$(()=>[u.value?(o(),l("div",ne,[I(E,{onResult:_,onCancel:s[2]||(s[2]=v=>u.value=!1),compact:!0})])):C("",!0)]),_:1})]),p.value.length>0?(o(),l("div",le,[I(N,{name:"list",tag:"div"},{default:$(()=>[(o(!0),l(z,null,S(p.value,v=>(o(),K(J,{key:v.id,item:v},null,8,["item"]))),128))]),_:1}),x.value>0?(o(),l("button",{key:0,onClick:d,class:"w-full p-3 text-sm text-surface-500 hover:text-red-400 hover:bg-red-500/10 transition-colors border-t border-surface-700/30"}," Clear "+f(x.value)+" completed item"+f(x.value!==1?"s":""),1)):C("",!0)])):(o(),l("div",ie,[...s[5]||(s[5]=[R('<div class="w-16 h-16 mx-auto mb-4 rounded-full bg-surface-800 flex items-center justify-center" data-v-7c33881c><svg class="w-8 h-8 text-surface-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-7c33881c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" data-v-7c33881c></path></svg></div><h3 class="font-display font-semibold text-surface-300 mb-1" data-v-7c33881c>No items yet</h3><p class="text-surface-500 text-sm" data-v-7c33881c>Add your first item above or use voice input</p>',3)])]))])}}},ce=P(re,[["__scopeId","data-v-7c33881c"]]);export{ce as default};
