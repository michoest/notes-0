import{u as a,z as i,A as c,p as u,y as l,a as m,b as p,o as f}from"./index-Nj4fo2rv.js";const w={class:"min-h-screen flex items-center justify-center"},y={__name:"AddFromUrl",setup(_){const o=l(),d=u(),n=a();return i(),c(async()=>{const t=d.query.text,e=d.query.list;if(console.log("AddFromURL mounted with",{text:t,listId:e}),!t){o.replace("/");return}if(e&&n.lists.find(r=>r.id===e)){const r=n.lists.find(s=>s.id===e);await n.addItem(e,decodeURIComponent(t)),o.replace(`/list/${e}`),setTimeout(()=>{var s;(s=window.showToast)==null||s.call(window,`Added to ${r.name}`)},100)}else window.dispatchEvent(new CustomEvent("add-from-url",{detail:{text:decodeURIComponent(t)}})),o.replace("/")}),(t,e)=>(f(),m("div",w,[...e[0]||(e[0]=[p("div",{class:"text-surface-400"},"Processing...",-1)])]))}};export{y as default};
