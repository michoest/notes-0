const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BBJn96LW.js","assets/index-C7IyOPZh.css"])))=>i.map(i=>d[i]);
import{u as g,r as d,y as x,g as b,c as o,a as t,l as A,w as C,z as M,b as f,A as i,t as S,d as V,B as I,o as l}from"./index-BBJn96LW.js";const B={class:"max-w-2xl mx-auto p-4 lg:p-8"},O={class:"card p-6 mb-6"},j={class:"space-y-4"},N={class:"relative"},P=["type"],D={key:0,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},_={key:1,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},z={class:"flex items-center gap-3"},K=["disabled"],L={key:0,class:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},T={key:1,class:"w-4 h-4 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},q={key:0,class:"text-yellow-500 text-sm"},E={class:"card p-6 mb-6"},H={key:0,class:"flex items-center gap-3 text-green-400"},W={key:1},R={class:"space-y-3"},Q={__name:"SettingsView",setup(U){const m=g(),a=d(""),u=d(!1),r=d(!1),c=d(!1);x(()=>{a.value=m.settings.openaiApiKey||""});async function k(){r.value=!0,c.value=!1,await m.saveSettings({openaiApiKey:a.value.trim()}),r.value=!1,c.value=!0,setTimeout(()=>{c.value=!1},2e3)}const y=b(()=>a.value.trim().startsWith("sk-")),v=d(!1);let n=null;x(()=>{window.matchMedia("(display-mode: standalone)").matches&&(v.value=!0),window.addEventListener("beforeinstallprompt",s=>{s.preventDefault(),n=s})});async function h(){if(n){n.prompt();const{outcome:s}=await n.userChoice;s==="accepted"&&(v.value=!0),n=null}}async function w(){if(confirm("This will delete all your lists and items. Are you sure?")){const{db:s}=await I(async()=>{const{db:e}=await import("./index-BBJn96LW.js").then(p=>p.C);return{db:e}},__vite__mapDeps([0,1]));await s.items.clear(),await s.lists.clear(),await s.settings.clear(),await m.initialize(),alert("All data cleared.")}}return(s,e)=>(l(),o("div",B,[e[17]||(e[17]=t("header",{class:"mb-8"},[t("h1",{class:"font-display font-bold text-3xl text-surface-100 mb-2"},"Settings"),t("p",{class:"text-surface-400"},"Configure your Voice Notes app")],-1)),t("section",O,[e[7]||(e[7]=t("h2",{class:"font-display font-semibold text-lg text-surface-200 mb-4"}," OpenAI API Key ",-1)),e[8]||(e[8]=t("p",{class:"text-surface-400 text-sm mb-4"}," Required for voice transcription. Your API key is stored locally and never sent to our servers. ",-1)),t("div",j,[t("div",N,[C(t("input",{"onUpdate:modelValue":e[0]||(e[0]=p=>a.value=p),type:u.value?"text":"password",placeholder:"sk-...",class:"input pr-12"},null,8,P),[[M,a.value]]),t("button",{onClick:e[1]||(e[1]=p=>u.value=!u.value),class:"absolute right-3 top-1/2 -translate-y-1/2 text-surface-500 hover:text-surface-300"},[u.value?(l(),o("svg",D,[...e[2]||(e[2]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])):(l(),o("svg",_,[...e[3]||(e[3]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),t("div",z,[t("button",{onClick:k,disabled:r.value||!a.value.trim(),class:"btn-primary"},[r.value?(l(),o("svg",L,[...e[4]||(e[4]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):c.value?(l(),o("svg",T,[...e[5]||(e[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):f("",!0),i(" "+S(c.value?"Saved!":r.value?"Saving...":"Save"),1)],8,K),a.value&&!y.value?(l(),o("span",q,' API key should start with "sk-" ')):f("",!0)]),e[6]||(e[6]=t("a",{href:"https://platform.openai.com/api-keys",target:"_blank",class:"inline-flex items-center gap-1 text-accent text-sm hover:underline"},[i(" Get an API key from OpenAI "),t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})])],-1))])]),t("section",E,[e[13]||(e[13]=t("h2",{class:"font-display font-semibold text-lg text-surface-200 mb-4"}," Install App ",-1)),v.value?(l(),o("div",H,[...e[9]||(e[9]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),t("span",null,"App installed!",-1)])])):(l(),o("div",W,[e[12]||(e[12]=t("p",{class:"text-surface-400 text-sm mb-4"}," Install Voice Notes on your device for quick access and offline use. ",-1)),t("div",R,[V(n)?(l(),o("button",{key:0,onClick:h,class:"btn-primary"},[...e[10]||(e[10]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),i(" Install App ",-1)])])):f("",!0),e[11]||(e[11]=t("div",{class:"text-surface-400 text-sm space-y-2"},[t("p",null,[t("strong",{class:"text-surface-300"},"On iOS:"),i(' Tap the Share button in Safari, then "Add to Home Screen"')]),t("p",null,[t("strong",{class:"text-surface-300"},"On Android:"),i(' Tap the menu button in Chrome, then "Install app"')])],-1))])]))]),e[18]||(e[18]=A('<section class="card p-6 mb-6"><h2 class="font-display font-semibold text-lg text-surface-200 mb-4"> iOS Shortcuts </h2><p class="text-surface-400 text-sm mb-4"> Use iOS Shortcuts to quickly open Voice Notes or jump to a specific list. </p><div class="bg-surface-900 rounded-xl p-4 space-y-2 text-sm font-mono"><p class="text-surface-300">Open app:</p><code class="text-accent">https://notes.michoest.com/</code><p class="text-surface-300 mt-4">Quick add (voice):</p><code class="text-accent">https://notes.michoest.com/#/quick-add</code><p class="text-surface-300 mt-4">Open specific list:</p><code class="text-accent">https://notes.michoest.com/#/list/shopping</code></div></section>',1)),t("section",{class:"card p-6"},[e[15]||(e[15]=t("h2",{class:"font-display font-semibold text-lg text-surface-200 mb-4"}," Data Management ",-1)),e[16]||(e[16]=t("p",{class:"text-surface-400 text-sm mb-4"}," All your data is stored locally on this device. ",-1)),t("button",{onClick:w,class:"btn bg-red-500/20 text-red-400 hover:bg-red-500/30 focus:ring-red-500"},[...e[14]||(e[14]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),i(" Clear All Data ",-1)])])]),e[19]||(e[19]=t("footer",{class:"mt-8 text-center text-surface-500 text-sm"},[t("p",null,"Voice Notes v1.0.0"),t("p",{class:"mt-1"},"Made with Vue 3, Pinia & OpenAI Whisper")],-1))]))}};export{Q as default};
