import{u as a,z as l,p as u,y as m,A as p,a as f,b as x,o as g}from"./index-x2VlJAAA.js";const _={class:"min-h-screen flex items-center justify-center"},w={__name:"AddFromUrl",setup(y){const o=m(),i=u(),n=a(),{pendingText:c}=p();return l(async()=>{const t=i.query.text,e=i.query.list;if(console.log("AddFromURL mounted with text:",t,"and listId:",e),!t){o.replace("/");return}const r=decodeURIComponent(t);if(e&&n.lists.find(d=>d.id===e)){console.log("Adding item to list:",e);const d=n.lists.find(s=>s.id===e);await n.addItem(e,r),o.replace(`/list/${e}`),setTimeout(()=>{var s;(s=window.showToast)==null||s.call(window,`Added to ${d.name}`)},100)}else console.log("No valid listId provided, setting pendingText"),c.value=r,o.replace("/")}),(t,e)=>(g(),f("div",_,[...e[0]||(e[0]=[x("div",{class:"text-surface-400"},"Processing...",-1)])]))}};export{w as default};
