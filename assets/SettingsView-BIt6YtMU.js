const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BY-cbaVc.js","assets/index-DQiHXyEt.css"])))=>i.map(i=>d[i]);
import{u as I,r as u,i as O,c as B,y as N,a as o,b as e,m as j,w as D,z as L,d as y,A as r,t as h,n as P,e as a,B as z,C as K,o as l}from"./index-BY-cbaVc.js";const T={class:"max-w-2xl mx-auto p-4 lg:p-8"},W={class:"card p-6 mb-6"},q={class:"space-y-4"},E={class:"relative"},H=["type"],R={key:0,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},U={key:1,class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Y={class:"flex items-center gap-3"},G=["disabled"],Q={key:0,class:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},$={key:1,class:"w-4 h-4 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},F={key:0,class:"text-yellow-500 text-sm"},J={class:"card p-6 mb-6"},X={class:"flex items-center gap-3 mb-4"},Z={class:"text-surface-400 text-sm"},ee={class:"bg-surface-900 rounded-xl p-4 mb-4"},te={class:"font-mono text-2xl tracking-widest text-surface-100"},se={class:"flex gap-3"},oe=["disabled"],ae={class:"card p-6 mb-6"},le={key:0,class:"flex items-center gap-3 text-green-400"},ne={key:1},ie={class:"space-y-3"},de={__name:"SettingsView",setup(re){const v=I(),{workspace:g,leaveWorkspace:A,isOnline:x,isSyncing:b,sync:w}=z(),n=u(""),p=u(!1),c=u(!1),d=u(!1);O(()=>v.settings.openaiApiKey,s=>{s&&!n.value&&(n.value=s)},{immediate:!0});async function C(){confirm("Leave workspace? Your local data will be cleared.")&&(await A(),location.reload())}async function S(){c.value=!0,d.value=!1,await v.saveSettings({openaiApiKey:n.value.trim()}),c.value=!1,d.value=!0,setTimeout(()=>{d.value=!1},2e3)}const M=B(()=>n.value.trim().startsWith("sk-")),k=u(!1);let i=null;N(()=>{window.matchMedia("(display-mode: standalone)").matches&&(k.value=!0),window.addEventListener("beforeinstallprompt",s=>{s.preventDefault(),i=s})});async function V(){if(i){i.prompt();const{outcome:s}=await i.userChoice;s==="accepted"&&(k.value=!0),i=null}}async function _(){if(confirm("This will delete all your lists and items. Are you sure?")){const{db:s}=await K(async()=>{const{db:t}=await import("./index-BY-cbaVc.js").then(m=>m.D);return{db:t}},__vite__mapDeps([0,1]));await s.items.clear(),await s.lists.clear(),await s.settings.clear(),await v.initialize(),alert("All data cleared.")}}return(s,t)=>{var m;return l(),o("div",T,[t[21]||(t[21]=e("header",{class:"mb-8"},[e("h1",{class:"font-display font-bold text-3xl text-surface-100 mb-2"},"Settings"),e("p",{class:"text-surface-400"},"Configure your Voice Notes app")],-1)),e("section",W,[t[8]||(t[8]=e("h2",{class:"font-display font-semibold text-lg text-surface-200 mb-4"}," OpenAI API Key ",-1)),t[9]||(t[9]=e("p",{class:"text-surface-400 text-sm mb-4"}," Required for voice transcription. Your API key is stored locally and never sent to our servers. ",-1)),e("div",q,[e("div",E,[D(e("input",{"onUpdate:modelValue":t[0]||(t[0]=f=>n.value=f),type:p.value?"text":"password",placeholder:"sk-...",class:"input pr-12"},null,8,H),[[L,n.value]]),e("button",{onClick:t[1]||(t[1]=f=>p.value=!p.value),class:"absolute right-3 top-1/2 -translate-y-1/2 text-surface-500 hover:text-surface-300"},[p.value?(l(),o("svg",R,[...t[3]||(t[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])):(l(),o("svg",U,[...t[4]||(t[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),e("div",Y,[e("button",{onClick:S,disabled:c.value||!n.value.trim(),class:"btn-primary"},[c.value?(l(),o("svg",Q,[...t[5]||(t[5]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):d.value?(l(),o("svg",$,[...t[6]||(t[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):y("",!0),r(" "+h(d.value?"Saved!":c.value?"Saving...":"Save"),1)],8,G),n.value&&!M.value?(l(),o("span",F,' API key should start with "sk-" ')):y("",!0)]),t[7]||(t[7]=e("a",{href:"https://platform.openai.com/api-keys",target:"_blank",class:"inline-flex items-center gap-1 text-accent text-sm hover:underline"},[r(" Get an API key from OpenAI "),e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})])],-1))])]),e("section",J,[t[11]||(t[11]=e("h2",{class:"font-display font-semibold text-lg text-surface-200 mb-4"}," Workspace ",-1)),e("div",X,[e("div",{class:P(["w-3 h-3 rounded-full",a(x)?"bg-green-500":"bg-red-500"])},null,2),e("span",Z,h(a(x)?a(b)?"Syncing...":"Connected":"Offline"),1)]),e("div",ee,[t[10]||(t[10]=e("p",{class:"text-surface-400 text-sm mb-1"},"Workspace Code",-1)),e("p",te,h((m=a(g))==null?void 0:m.code),1)]),t[12]||(t[12]=e("p",{class:"text-surface-400 text-sm mb-4"}," Share this code with other devices to sync your lists. ",-1)),e("div",se,[e("button",{onClick:t[2]||(t[2]=(...f)=>a(w)&&a(w)(...f)),disabled:!a(x)||a(b),class:"btn-secondary flex-1"}," Sync Now ",8,oe),e("button",{onClick:C,class:"btn bg-red-500/20 text-red-400 hover:bg-red-500/30"}," Leave ")])]),e("section",ae,[t[17]||(t[17]=e("h2",{class:"font-display font-semibold text-lg text-surface-200 mb-4"}," Install App ",-1)),k.value?(l(),o("div",le,[...t[13]||(t[13]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("span",null,"App installed!",-1)])])):(l(),o("div",ne,[t[16]||(t[16]=e("p",{class:"text-surface-400 text-sm mb-4"}," Install Voice Notes on your device for quick access and offline use. ",-1)),e("div",ie,[a(i)?(l(),o("button",{key:0,onClick:V,class:"btn-primary"},[...t[14]||(t[14]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),r(" Install App ",-1)])])):y("",!0),t[15]||(t[15]=e("div",{class:"text-surface-400 text-sm space-y-2"},[e("p",null,[e("strong",{class:"text-surface-300"},"On iOS:"),r(' Tap the Share button in Safari, then "Add to Home Screen"')]),e("p",null,[e("strong",{class:"text-surface-300"},"On Android:"),r(' Tap the menu button in Chrome, then "Install app" ')])],-1))])]))]),t[22]||(t[22]=j('<section class="card p-6 mb-6"><h2 class="font-display font-semibold text-lg text-surface-200 mb-4"> iOS Shortcuts </h2><p class="text-surface-400 text-sm mb-4"> Use iOS Shortcuts to quickly open Voice Notes or jump to a specific list. </p><div class="bg-surface-900 rounded-xl p-4 space-y-2 text-sm font-mono"><p class="text-surface-300">Open app:</p><code class="text-accent">https://notes.michoest.com/</code><p class="text-surface-300 mt-4">Quick add (voice):</p><code class="text-accent">https://notes.michoest.com/#/quick-add</code><p class="text-surface-300 mt-4">Open specific list:</p><code class="text-accent">https://notes.michoest.com/#/list/shopping</code></div></section>',1)),e("section",{class:"card p-6"},[t[19]||(t[19]=e("h2",{class:"font-display font-semibold text-lg text-surface-200 mb-4"}," Data Management ",-1)),t[20]||(t[20]=e("p",{class:"text-surface-400 text-sm mb-4"}," All your data is stored locally on this device. ",-1)),e("button",{onClick:_,class:"btn bg-red-500/20 text-red-400 hover:bg-red-500/30 focus:ring-red-500"},[...t[18]||(t[18]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),r(" Clear All Data ",-1)])])]),t[23]||(t[23]=e("footer",{class:"mt-8 text-center text-surface-500 text-sm"},[e("p",null,"Voice Notes v1.0.0"),e("p",{class:"mt-1"},"Made with Vue 3, Pinia & OpenAI Whisper")],-1))])}}};export{de as default};
