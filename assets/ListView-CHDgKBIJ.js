import{u as L,r as h,c as y,a as r,o as n,b as e,d as C,n as b,e as R,w as j,v as A,f as $,t as v,F as H,g as D,h as N,i as T,j as _,k as B,T as E,l as z,m as S,p as K,_ as q,q as F}from"./index-mFjbpqK_.js";const O={key:0,class:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},U={class:"flex-1 min-w-0"},G={key:0,class:"flex gap-2"},J={key:1},P={class:"text-xs text-surface-500 mt-1"},Q=["value"],W={__name:"NoteItem",props:{item:{type:Object,required:!0}},setup(d){const i=d,l=L(),u=h(!1),c=h(""),m=h(null),w=h(!1);async function f(){var t,s;c.value=i.item.text,u.value=!0,await N(),(t=m.value)==null||t.focus(),(s=m.value)==null||s.select()}async function k(){const t=c.value.trim();t&&t!==i.item.text&&await l.updateItem(i.item.id,{text:t}),u.value=!1}function p(){u.value=!1,c.value=""}async function g(){confirm("Delete this item?")&&await l.deleteItem(i.item.id)}function I(t){const s=new Date(t),x=new Date-s;return x<6e4?"Just now":x<36e5?`${Math.floor(x/6e4)}m ago`:x<864e5?`${Math.floor(x/36e5)}h ago`:x<6048e5?`${Math.floor(x/864e5)}d ago`:s.toLocaleDateString()}const M=y(()=>l.lists.filter(t=>t.id!==i.item.listId));async function o(t){t&&await l.moveItem(i.item.id,t)}return(t,s)=>(n(),r("div",{class:b(["list-item group",d.item.completed&&"list-item-completed"]),onMouseenter:s[3]||(s[3]=a=>w.value=!0),onMouseleave:s[4]||(s[4]=a=>w.value=!1)},[e("button",{onClick:s[0]||(s[0]=a=>R(l).toggleItem(d.item.id)),class:b(["checkbox",d.item.completed&&"checkbox-checked"])},[d.item.completed?(n(),r("svg",O,[...s[5]||(s[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"},null,-1)])])):C("",!0)],2),e("div",U,[u.value?(n(),r("div",G,[j(e("input",{ref_key:"editInput",ref:m,"onUpdate:modelValue":s[1]||(s[1]=a=>c.value=a),onKeyup:[$(k,["enter"]),$(p,["escape"])],onBlur:k,type:"text",class:"input flex-1 py-1 text-sm"},null,544),[[A,c.value]])])):(n(),r("div",J,[e("p",{class:b(["text-surface-200 break-words",d.item.completed&&"line-through text-surface-500"])},v(d.item.text),3),e("p",P,v(I(d.item.createdAt)),1)]))]),e("div",{class:b(["flex items-center gap-1 transition-opacity",w.value?"opacity-100":"opacity-0 lg:opacity-0"])},[e("button",{onClick:f,class:"p-2 text-surface-500 hover:text-surface-200 transition-colors",title:"Edit"},[...s[6]||(s[6]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),e("button",{onClick:g,class:"p-2 text-surface-500 hover:text-red-400 transition-colors",title:"Delete"},[...s[7]||(s[7]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])]),e("select",{onChange:s[2]||(s[2]=a=>o(a.target.value)),class:"p-2 bg-transparent text-surface-500 hover:text-surface-200 cursor-pointer",title:"Move to..."},[s[8]||(s[8]=e("option",{value:"",disabled:"",selected:""},"Move...",-1)),(n(!0),r(H,null,D(M.value,a=>(n(),r("option",{key:a.id,value:a.id},v(a.name),9,Q))),128))],32)],2),e("div",{class:"flex lg:hidden items-center gap-1"},[e("button",{onClick:f,class:"p-2 text-surface-500 active:text-surface-200"},[...s[9]||(s[9]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),e("button",{onClick:g,class:"p-2 text-surface-500 active:text-red-400"},[...s[10]||(s[10]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])])],34))}},X=(d,i)=>{const l=d.__vccOpts||d;for(const[u,c]of i)l[u]=c;return l},Y={class:"max-w-2xl mx-auto p-4 lg:p-8"},Z={class:"hidden lg:block mb-8"},ee={class:"font-display font-bold text-3xl text-surface-100 mb-2"},te={class:"text-surface-400"},se={key:0},oe={key:1},ae={key:2},ne={class:"card mb-6"},ie={class:"p-4 flex gap-3"},le=["disabled"],re={key:0,class:"border-t border-surface-700 p-6"},de={key:0,class:"card"},ue={key:1,class:"text-center py-16"},ce={__name:"ListView",setup(d){const i=K(),l=L(),u=h(""),c=h(null),m=h(!1),w=y(()=>l.lists.find(o=>o.id===i.params.listId)),f=y(()=>l.items.filter(o=>o.listId===i.params.listId).sort((o,t)=>o.completed!==t.completed?o.completed?1:-1:t.createdAt-o.createdAt)),k=y(()=>f.value.filter(o=>!o.completed).length),p=y(()=>f.value.filter(o=>o.completed).length);T(()=>i.params.listId,o=>{o&&l.setCurrentList(o)},{immediate:!0});async function g(){var t;const o=u.value.trim();o&&(await l.addItem(i.params.listId,o),u.value="",await N(),(t=c.value)==null||t.focus())}function I(o){o&&l.addItem(i.params.listId,o),m.value=!1}async function M(){confirm("Remove all completed items?")&&await l.clearCompleted(i.params.listId)}return(o,t)=>{var s;return n(),r("div",Y,[e("header",Z,[e("h1",ee,v(((s=w.value)==null?void 0:s.name)||"Loading..."),1),e("p",te,[k.value>0?(n(),r("span",se,v(k.value)+" item"+v(k.value!==1?"s":""),1)):(n(),r("span",oe,"No items")),p.value>0?(n(),r("span",ae," Â· "+v(p.value)+" completed",1)):C("",!0)])]),e("div",ne,[e("div",ie,[j(e("input",{ref_key:"inputRef",ref:c,"onUpdate:modelValue":t[0]||(t[0]=a=>u.value=a),onKeyup:$(g,["enter"]),type:"text",placeholder:"Add a new item...",class:"input flex-1"},null,544),[[A,u.value]]),e("button",{onClick:g,disabled:!u.value.trim(),class:"btn-primary px-4"},[...t[3]||(t[3]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",{class:"hidden sm:inline"},"Add",-1)])],8,le),e("button",{onClick:t[1]||(t[1]=a=>m.value=!m.value),class:b(["btn hidden lg:flex",m.value?"bg-red-500 text-white hover:bg-red-600":"btn-secondary"])},[...t[4]||(t[4]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})],-1)])],2)]),_(E,{name:"slide"},{default:B(()=>[m.value?(n(),r("div",re,[_(q,{onResult:I,onCancel:t[2]||(t[2]=a=>m.value=!1),compact:!0})])):C("",!0)]),_:1})]),f.value.length>0?(n(),r("div",de,[_(z,{name:"list",tag:"div"},{default:B(()=>[(n(!0),r(H,null,D(f.value,a=>(n(),F(W,{key:a.id,item:a},null,8,["item"]))),128))]),_:1}),p.value>0?(n(),r("button",{key:0,onClick:M,class:"w-full p-3 text-sm text-surface-500 hover:text-red-400 hover:bg-red-500/10 transition-colors border-t border-surface-700/30"}," Clear "+v(p.value)+" completed item"+v(p.value!==1?"s":""),1)):C("",!0)])):(n(),r("div",ue,[...t[5]||(t[5]=[S('<div class="w-16 h-16 mx-auto mb-4 rounded-full bg-surface-800 flex items-center justify-center" data-v-7c33881c><svg class="w-8 h-8 text-surface-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-7c33881c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" data-v-7c33881c></path></svg></div><h3 class="font-display font-semibold text-surface-300 mb-1" data-v-7c33881c>No items yet</h3><p class="text-surface-500 text-sm" data-v-7c33881c>Add your first item above or use voice input</p>',3)])]))])}}},ve=X(ce,[["__scopeId","data-v-7c33881c"]]);export{ve as default};
